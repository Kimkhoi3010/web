migration:
  options:
    install_command: odoo
    install_args: --load=web,web_kanban,attachment_s3,session_redis,logging_json
  versions:
    - version: 10.0.11
      operations:
        pre:
          - anthem songs.install.pre::main
        post:
          - anthem openerp.addons.cloud_platform.songs::install_exoscale
          - anthem songs.install.post::main
          - anthem songs.install.users::main
          - anthem songs.install.crm::main
          - anthem songs.install.mts.crm::main
          - anthem songs.install.mte.crm::main
          - anthem songs.install.mts.accounting::main
          - anthem songs.install.mte.accounting::main
          - anthem songs.install.accounting::main
          - anthem songs.install.generated.accounting::main
          - anthem songs.install.hr::main
          - anthem songs.install.project::main
          - anthem songs.install.mts.stock::main
          - anthem songs.install.mte.stock::main
          - anthem songs.install.generated.stock::main
          - anthem songs.install.sale::main
          - anthem songs.install.mts.sales::main
          - anthem songs.install.mte.sales::main
          - anthem songs.install.fetchmail::main
          - anthem songs.install.data_all::main
      modes:
        full:
          operations:
            post:
              - anthem songs.install.data_full::main
              - importer.sh songs.install.partners::import_partners /opt/odoo/data/install/res.partner.csv
              - importer.sh songs.install.partners::import_partners_contacts /opt/odoo/data/install/res.partner.contact.csv
              - anthem songs.install.partners::partner_compute_parents
              - anthem songs.install.mts.sales::full
        demo:
          operations:
            post:
              - anthem songs.install.data_demo::main
              - anthem songs.install.mts.sales::demo
      addons:
        upgrade:
          #### core
          - account_accountant
          - account_cancel
          - analytic
          - board
          - hr_expense
          - hr_holidays
          - hr_timesheet
          - maintenance
          - mrp
          - procurement
          - product
          - project
          - purchase
          - sale
          - sale_stock
          - stock
          - stock_account
          - crm
          # l10n-switzerland
          - l10n_ch
          - l10n_ch_bank
          - l10n_ch_base_bank
          - l10n_ch_dta
          - l10n_ch_pain_base
          - l10n_ch_payment_slip
          - l10n_ch_states
          - l10n_ch_zip
          - l10n_ch_pain_credit_transfer
          #### OCA/server-tools
          - base_technical_features
          - date_range
          - mail_environment
          - server_environment
          - server_environment_ir_config_parameter
          #### camptocamp/cloud-platform
          - cloud_platform_exoscale
          #### camptocamp/odoo-prototype
          - dj_compilation_stock
          #### OCA/account-financial-reporting
          - account_financial_report_qweb
          #### OCA/account-financial-tools
          - account_fiscal_year
          - account_reports_followup
          #### OCA/account-payment
          - account_due_list
          #### OCA/project
          - project_task_default_stage
          #### OCA/reporting-engine
          - report_py3o
          - bi_sql_editor
          #### OCA/bank-payment
          - account_banking_sepa_credit_transfer
          #### OCA/bank-statement-import
          - account_bank_statement_import_camt
          #### OCA/account-invoicing
          - account_invoice_rounding
          #### OCA/purchase-workflow
          - purchase_discount
          #### OCA/sale-workflow
          - sale_project_fixed_price_task_completed_invoicing
          #### OCA/web
          - web_sheet_full_width
          - web_environment_ribbon
          #### camptocamp/odoo-prototype
          - base_dj
          #### Specific
          - mtsmte_project
          - mtsmte_sale
          - mtsmte_reports
          - mtsmte_stock
          - mail_company_domain
          - server_environment_files
          - mtsmte_accounting
          - mtsmte_purchase
    - version: 10.0.12
      operations:
        pre:
          - anthem songs.install.generated.sales::main
        post:
          - anthem songs.update.update_10_0_12::main
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
          - base_dj
          - dj_compilation_stock
          - web_readonly_bypass
    - version: 10.0.13
      addons:
        upgrade:
          #### Specific
          - mtsmte_reports
          #### OCA/bank-payment
          - account_payment_mode
          - account_invoice_rounding
      operations:
        post:
          - anthem songs.install.generated.sales::main
          - anthem songs.install.generated.stock::main
    - version: 10.0.14
      addons:
        upgrade:
          #### core
          - hr_attendance
          #### Specific
          - mtsmte_reports
          - mtsmte_sale
    - version: 10.0.15
      operations:
        pre:
          - anthem songs.update.update_10_0_15::main
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
          - mtsmte_purchase
          - mtsmte_accounting
          #### OCA/bank-statement-import
          - account_bank_statement_import_camt
    - version: 10.1.0
      addons:
        upgrade:
          - base_dj
          #### Specific
          - mtsmte_project
          - mtsmte_reports
          - mtsmte_sale
          - mtsmte_accounting
    - version: 10.1.1
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
    - version: 10.1.2
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
    - version: 10.1.3
      addons:
        upgrade:
          #### Specific
          - mtsmte_reports
          - crm
          - mail_environment
          - mtsmte_sale
          # l10n-switzerland
          - l10n_ch
          - l10n_ch_bank
          - l10n_ch_base_bank
          - l10n_ch_dta
          - l10n_ch_pain_base
          - l10n_ch_payment_slip
          - l10n_ch_states
          - l10n_ch_zip
          - l10n_ch_pain_credit_transfer
      operations:
        post:
          - anthem songs.update.update_10_1_3::main
    - version: 10.1.4
      addons:
        upgrade:
          #### Specific
          - mtsmte_reports
          - mtsmte_web_ckeditor4
          - web_ckeditor4
      operations:
        post:
          - anthem songs.update.update_10_1_4::main
    - version: 10.1.5
    - version: 10.1.6
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
    - version: 10.1.7
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
          - mtsmte_purchase
    - version: 10.1.8
      addons:
        upgrade:
          #### Specific
          - mtsmte_sale
          - mtsmte_reports
          - mtsmte_purchase
    - version: 10.1.9
      addons:
        upgrade:
          #### Specific
          - mtsmte_accounting
    - version: 10.2.0
      operations:
        post:
          - anthem songs.update.update_10_2_0::main
      addons:
        upgrade:
          #### Specific
          - mtsmte_purchase
          - mtsmte_reports
          - mtsmte_sale
    - version: 10.3.0
      modes:
        full:
          operations:
            pre:
              - psql -f /opt/odoo/songs/update/update_10_3_0.sql
              - anthem songs.update.update_10_3_0::main
      addons:
        upgrade:
          # fix home menu issue
          - base
          #### Specific
          - mtsmte_project
    - version: 10.3.1
      modes:
        full:
          operations:
            pre:
              - psql -f /opt/odoo/songs/update/update_10_3_1.sql
    - version: 10.4.0
      modes:
        full:
          operations:
            pre:
              - anthem songs.update.update_10_4_0::main
      addons:
        upgrade:
          #### Specific
          - mtsmte_reports
          #### OCA/bank-statement-import
          - account_bank_statement_import_camt
    - version: 10.5.0
      addons:
        upgrade:
          #### OCA/web
          - web_ckeditor4
          #### Specific
          - mtsmte_reports
          - mtsmte_project
    - version: 10.5.1
    - version: 10.6.0
      addons:
        upgrade:
          #### OCA sale-workflow
          - sale_order_lot_generator
          #### Specific
          - mtsmte_sale
          - mtsmte_stock
          - mtsmte_reports
          - l10n_ch_payment_slip
      operations:
        pre:
          - anthem songs.update.update_10_6_0::pre
    - version: 10.7.0
      addons:
        upgrade:
          #### Specific
          - mtsmte_reports
          - web_ckeditor4
    - version: 10.8.0
      addons:
        upgrade:
          #### Specific
          - mtsmte_stock
          - mtsmte_sale
          - mtsmte_reports
