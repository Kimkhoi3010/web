migration:
  options:
    install_command: odoo
    install_args: --load=web,web_kanban,attachment_s3,session_redis,logging_json
  versions:
    - version: 10.0.5
      operations:
        pre:
          - anthem songs.install.pre::main
        post:
          - anthem openerp.addons.cloud_platform.songs::install_exoscale
          - anthem songs.install.post::main
          - anthem songs.install.users::main
          - anthem songs.install.crm::main
          - anthem songs.install.mts.crm::main
          - anthem songs.install.mte.crm::main
          - anthem songs.install.mts.accounting::main
          - anthem songs.install.mte.accounting::main
          - anthem songs.install.accounting::main
          - anthem songs.install.hr::main
          - anthem songs.install.project::main
          - anthem songs.install.mts.stock::main
          - anthem songs.install.mte.stock::main
          - anthem songs.install.generated.stock::main
          - anthem songs.install.sale::main
          - anthem songs.install.mts.sales::main
          - anthem songs.install.mte.sales::main
      modes:
        full:
          operations:
            post:
              - anthem songs.install.data_full::main
              - importer.sh songs.install.partners::import_partners /opt/odoo/data/install/res.partner.csv
              - importer.sh songs.install.partners::import_partners_contacts /opt/odoo/data/install/res.partner.contact.csv
              - anthem songs.install.partners::partner_compute_parents
              - anthem songs.install.mts.sales::full
        demo:
          operations:
            post:
              - anthem songs.install.data_demo::main
              - anthem songs.install.mts.sales::demo
      addons:
        upgrade:
          #### core
          - account_accountant
          - account_cancel
          - analytic
          - board
          - hr_holidays
          - hr_timesheet
          - maintenance
          - mrp
          - procurement
          - product
          - project
          - purchase
          - sale
          - sale_stock
          - stock
          - stock_account
          # l10n-switzerland
          - l10n_ch
          - l10n_ch_bank
          - l10n_ch_base_bank
          - l10n_ch_dta
          - l10n_ch_pain_base
          - l10n_ch_payment_slip
          - l10n_ch_states
          - l10n_ch_zip
          - l10n_ch_pain_credit_transfer
          #### OCA/server-tools
          - base_technical_features
          - date_range
          - mail_environment
          - server_environment
          #### camptocamp/cloud-platform
          - cloud_platform
          #### camptocamp/odoo-prototype
          - dj_compilation_stock
          #### OCA/account-financial-reporting
          - account_financial_report_qweb
          #### OCA/account-financial-tools
          - account_fiscal_year
          - account_reports_followup
          #### OCA/project
          - project_task_default_stage
          #### OCA/reporting-engine
          - report_py3o
          #### OCA/bank-payment
          - account_banking_sepa_credit_transfer
          #### OCA/bank-statement-import
          - account_bank_statement_import_camt
          #### OCA/account-invoicing
          - account_invoice_rounding
          #### OCA/purchase-workflow
          - purchase_discount
          #### OCA/web
          - web_sheet_full_width
          #### Specific
          - mtsmte_project
          - mtsmte_sale
          - mtsmte_reports
          - mtsmte_stock
          - mtsmte_sale
          - mail_company_domain
          - server_environment_files
    - version: 10.0.6
      operations:
        post:
          - anthem songs.install.generated.stock::stock_config_settings
      addons:
        upgrade:
          - base_dj
    - version: 10.0.7
      addons:
        upgrade:
          - base_dj
          - web_environment_ribbon
          - server_environment_ir_config_parameter
      operations:
        post:
          - anthem songs.install.generated.stock::main
    - version: 10.0.8
      addons:
        upgrade:
          - base
          - l10n_ch_payment_slip
          - web_environment_ribbon
          - mtsmte_sale
