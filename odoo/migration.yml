migration:
  options:
    install_command: odoo
    install_args: --load=web,web_kanban,attachment_s3,session_redis,logging_json
  versions:
    - version: 10.0.0
      operations:
        pre:
          - anthem songs.install.pre::main
        post:
          - anthem openerp.addons.cloud_platform.songs::install_exoscale
          - anthem songs.install.post::main
          - anthem songs.install.data_all::main
          - anthem songs.install.mts.accounting::main
          - anthem songs.install.mte.accounting::main
          - anthem songs.install.crm::main
          - anthem songs.install.accounting::main
          - anthem songs.install.sale::main
          - anthem songs.install.stock::main
      modes:
        full:
          operations:
            post:
              - anthem songs.install.data_full::main
        demo:
          operations:
            post:
              - anthem songs.install.data_demo::main
      addons:
        upgrade:
          #### core
          - account_accountant
          - analytic
          - board
          - hr_holidays
          - hr_timesheet
          - maintenance
          - mrp
          - procurement
          - product
          - project
          - purchase
          - sale
          - sale_stock
          - stock
          - stock_account
          # l10n-switzerland
          - l10n_ch
          - l10n_ch_bank
          - l10n_ch_base_bank
          - l10n_ch_dta
          - l10n_ch_pain_base
          - l10n_ch_payment_slip
          - l10n_ch_states
          - l10n_ch_zip
          #### OCA/server-tools
          - base_technical_features
          - date_range
          - mail_environment
          - server_environment
          #### camptocamp/cloud-platform
          - cloud_platform
          #### OCA/account-financial-reporting
          - account_financial_report_qweb
          #### OCA/account-financial-tools
          - account_fiscal_year
          - account_reports_followup
          #### OCA/project
          - project_task_default_stage
          #### OCA/reporting-engine
          - report_py3o
          #### OCA/bank-statement-import
          - account_bank_statement_import_camt
          #### OCA/account-invoicing
          -  account_invoice_rounding
          #### OCA/purchase-workflow
          - purchase_discount
          #### Specific
          - server_environment_files
          - mtsmte_project
          - mtsmte_sale
          - mtsmte_reports
          - mail_company_domain
    - version: 10.0.1
    - version: 10.0.2
    - version: 10.0.3
      addons:
        upgrade:
          - mail_company_domain
          - mtsmte_reports
      operations:
        post:
          - anthem songs.install.post::setup_mail_catchall_domain
    - version: 10.0.4
      addons:
        upgrade:
          - purchase_discount
          - l10n_ch_payment_slip
      modes:
        full:
          operations:
            post:
              - anthem songs.install.data_full::main
        demo:
          operations:
            post:
              - anthem songs.install.data_demo::main
