<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_partner_title_tree" model="ir.ui.view">
        <field name="name">res.partner.title.tree</field>
        <field name="model">res.partner.title</field>
        <field name="inherit_id" ref="base.view_partner_title_tree"/>
        <field name="arch" type="xml">
            <field name="shortcut" position="after">
                <field name="active"/>
            </field>
        </field>
    </record>
    <record id="view_partner_title_form" model="ir.ui.view">
        <field name="name">res.partner.title.form</field>
        <field name="model">res.partner.title</field>
        <field name="inherit_id" ref="base.view_partner_title_form"/>
        <field name="arch" type="xml">
            <field name="shortcut" position="after">
                <field name="active"/>
            </field>
        </field>
    </record>

    <record id="view_partner_center_tree" model="ir.ui.view">
        <field name="name">res.partner.center.tree</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_tree"/>
        <field name="priority">48</field>
        <field name="arch" type="xml">
            <field name="phone" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="email" position="replace"/>
            <field name="phone" position="after">
                <field name="email"/>
                <field name="mobile" widget="phone"/>
                <field name="city"/>
                <field name="company_id"/>
            </field>
        </field>
    </record>

    <record id="view_partner_center_form" model="ir.ui.view">
        <field name="name">res.partner.center.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="priority">48</field>
        <field name="arch" type="xml">

            <!-- disable duplicate button -->
            <xpath expr="//form" position="attributes">
                <attribute name="duplicate">0</attribute>
            </xpath>

            <xpath expr="//button[@name='toggle_active']" position="attributes">
                <attribute name="groups"></attribute>
            </xpath>
            <!-- hide fields -->
            <field name="title" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="fax" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="category_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="website" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="function" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <xpath expr="//field[@name='opt_out']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <field name="name" position="attributes">
                <attribute name="attrs">{
                'readonly': [('is_company', '=', False)],
                'required': [('is_company', '=', True)],
                'invisible': [('is_company', '=', False)],
                }</attribute>
            </field>
            <field name="firstname" position="after">
                <field name="birthday" attrs="{'required': [('is_company', '=', False)]}"/>
            </field>
            <field name="email" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="street" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="city" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="zip" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="mobile" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="firstname" position="attributes">
                <attribute name="attrs">{'required': [('is_company', '=', False)]}</attribute>
            </field>
            <field name="lastname" position="attributes">
                <attribute name="attrs">{'required': [('is_company', '=', False)]}</attribute>
            </field>

            <field name="phone" position="before">
                <field name="opt_out"/>
                <field name="provenance"/>
            </field>
            <field name="lastname" position="before">
                <field name="phototherapist_id" attrs="{'required': [('is_company', '=', False)]}"/>
                <field name="title" attrs="{'required': [('is_company', '=', False)]}"/>
            </field>
            <xpath expr="//div[@class='oe_title']/div[@class='oe_edit_only']" position="attributes">
                <attribute name="class"></attribute>
            </xpath>
            <field name="company_id" position="attributes">
                <attributes name="groups">base.group_multi_company</attributes>
            </field>

            <xpath expr="//page[@name='sales_purchases']" position="attributes">
                <attribute name="groups">base.group_multi_company</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']" position="attributes">
                <attribute name="groups">base.group_multi_company</attribute>
            </xpath>
            <xpath expr="//notebook/page[@name='internal_notes']" position="before">
                <page name="more_infos" string="Extra Infos" attrs="{'invisible': [('company_type', '=', 'company')]}">
                    <group>
                        <group>
                            <field name="function"/>
                            <field name="info_meeting_date"/>
                            <field name="flash_done"/>
                            <field name="flash_test_date" attrs="{'required': [('flash_done', '=', 'y')]}"/>
                            <field name="flash_test_zone" attrs="{'required': [('flash_done', '=', 'y')]}"/>
                            <field name="flash_test_setting" attrs="{'required': [('flash_done', '=', 'y')]}"/>
                            <field name="socio_professional_category"/>
                            <field name="family_situation"/>
                            <field name="children_nb"/>
                            <field name="why_no_buy"/>
                            <field name="maximum_budget"/>
                            <field name="beauty_institute_attented"/>
                        </group>
                        <group>
                            <label for="comment1" colspan="4"/>
                            <field name="comment1" nolabel="1" colspan="4"/>
                            <label for="comment2" colspan="4"/>
                            <field name="comment2" nolabel="1" colspan="4"/>
                            <label for="comment3" colspan="4"/>
                            <field name="comment3" nolabel="1" colspan="4"/>
                        </group>
                    </group>
                </page>
                <page name="survey" string="Diagnostic">
                    <button name="take_me_to_diagnostic_survey" type="object" string="Fill Diagnostic" class="oe_highlight"/>
                    <group name="survey_answers" string="Answers">
                        <field name="survey_input_lines">
                            <tree>
                                <field name="survey_id"/>
                                <field name="question_id"/>
                                <field name="value_suggested_row"/>
                                <field name="value_suggested"/>
                            </tree>
                        </field>
                    </group>
                </page>
                <page name="sales_invoices" string="Sales / Invoices">
                    <group name="sales" string="Sales">
                        <field name="sale_order_ids" nolabel="1"/>
                    </group>
                    <group name="invoices" string="Invoices">
                        <field name="invoice_ids" nolabel="1"/>
                    </group>
                </page>
                <page name="meetings" string="Meetings">
                        <field name="meeting_ids" nolabel="1"/>
                </page>
            </xpath>


        </field>
    </record>

</odoo>